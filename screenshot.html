<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>LIPS Scheme Screenshoter</title>
    <link rel="canonical" href="https://lips.js.org/screenshot.html" />
    <meta name="Description" content="Tool to take screenshots of LIPS Scheme."/>
    <link href="https://cdn.jsdelivr.net/npm/codemirror@5.58.3/lib/codemirror.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/codemirror@5.58.3/theme/twilight.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/codemirror@5.58.3/addon/hint/show-hint.css" rel="stylesheet"/>
    <style>
:root {
  --border-color: #000000;
}
.box {
    border: 2px solid var(--border-color);
    --width: 80ch;
    width: calc(var(--width) + 20px + 200px);
    height: calc(var(--height, 500) * 1px);
    border-radius: 5px;
}
/*
 * button generated by
 *  https://www.bestcssbuttongenerator.com/
 */
.download {
	box-shadow:inset 0px -3px 7px 0px #29bbff;
	background:linear-gradient(to bottom, #2dabf9 5%, #0688fa 100%);
	background-color:#2dabf9;
	border-radius:3px 3px 3px 0;
	border: none;
	display:inline-block;
	cursor:pointer;
	color:#ffffff;
	font-family:Arial;
	font-size:15px;
	padding:9px 23px;
	text-decoration:none;
	text-shadow:0px 1px 0px #263666;
}
.download:hover {
	background:linear-gradient(to bottom, #0688fa 5%, #2dabf9 100%);
	background-color:#0688fa;
}
.download:active {
	position:relative;
	top:1px;
}
.box > header {
    border-bottom: 2px solid var(--border-color);
}
.wrapper {
    background: #ABB8C3;
    width: calc(var(--width) + 100px);
    height: calc((var(--height, 500) - 100) * 1px);
}
.position {
    margin: 10px;
}
.box {
    margin: 50px auto;
    position: relative;
    max-width: 100%;
}
.position, .cm-shadow-box, .wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    max-width: 100%;
}
.cm-dialog {
    width: var(--width);
    height: auto;
    border-radius: 5px;
    box-shadow: rgba(0, 0, 0, 0.55) 0px 20px 68px;
    --background: #151718;
    background: var(--background, white);
    z-index: 100;
    overflow: hidden;
}
.cm-dialog header {
    padding: 10px;
}
.cm-dialog .cm-body {
    height: calc(100% - 38px);
}
.cm-dialog .CodeMirror {
    background: var(--background, white);
    line-height: 1.4em;
    height: 100%;
}
.cm-dialog .cm-s-seti .CodeMirror-gutters {
    background-color: var(--background, white);
}
.cm-icons {
    list-style: none;
    margin: 0;
    padding: 0;
}
.cm-icons li {
    display: inline-block;
    width: 12px;
    height: 12px;
    background: red;
    border-radius: 50%;
}
.cm-icons li:first-child {
    background: #FF5F56;
}
.cm-icons li:nth-child(2) {
    background: #FFBD2E;
}
.cm-icons li:last-child {
    background: #27C93F;
}

.note a, .note a:visited {
    color: #005DB6;
    text-decoration: none;
}
.note a:hover {
    text-decoration: underline;
}
</style>
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png"/>
    <link rel="manifest" href="favicon/site.webmanifest"/>
    <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#5bbad5"/>
    <link rel="shortcut icon" href="favicon/favicon.ico"/>
    <meta name="msapplication-TileColor" content="#ff6600"/>
    <meta name="msapplication-config" content="favicon/browserconfig.xml"/>
    <meta name="theme-color" content="#ffffff"/>
    <!--[if IE]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin/>
    <link href="https://cdn.jsdelivr.net/combine/npm/jquery.terminal/css/jquery.terminal.min.css,npm/terminal-prism/css/prism-coy.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/@jcubic/lips@beta/lib/css/terminal.css" rel="stylesheet"/>
    <link href="./examples/common.css" rel="stylesheet"/>
    <link href="style.css" rel="stylesheet"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Crimson+Text|Play&display=swap"/>
    <link href="https://fonts.googleapis.com/css?family=Crimson+Text|Play&display=swap"
          media="print"
          onload="this.media='all'"
          rel="stylesheet"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="LIPS Is Pretty Simple"/>
    <meta property="og:description" content="Powerful Scheme based lisp in JavaScript"/>
    <meta property="og:url" content="https://lips.js.org"/>
    <meta property="og:site_name" content="lips"/>
    <meta property="og:image" content="https://lips.js.org/banner.png"/>

    <meta name="twitter:image" content="https://lips.js.org/banner.png"/>
    <meta name="twitter:image:alt" content="Logo and text 'LIPS Is Pretty Simple'"/>
    <meta name="twitter:title" content="LIPS Is Pretty Simple"/>
    <meta name="twitter:description" content="Powerful Scheme based lisp in JavaScript"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:site" content="@jcubic"/>
    <meta name="twitter:creator" content="@jcubic"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="application/ld+json">{
    "@context": "https://schema.org/",
    "@type": "https://schema.org/SoftwareSourceCode",
    "about": "LIPS: Scheme based powerful lips language, interpreter written in JavaScript",
    "programmingLanguage": "JavaScript",
    "codeRepository": "https://github.com/jcubic/lips",
    "runtimePlatform": "Browser, Node.js",
    "targetProduct": "Cross plaform",
    "author": {"@type":"Person","url":"https://jcubic.pl/me/","name":"Jakub T. Jankiewicz","givenName":"Jakub","familyName":"Jankiewicz","additionalName":"T.","alternateName":"jcubic","image":"https://live.staticflickr.com/65535/50132910231_73d867794f_k_d.jpg","gender":"https://schema.org/Male","jobTitle":"Software Engineer - Front-End Developer","sameAs":["https://twitter.com/jcubic","https://www.facebook.com/jcubic/","https://www.instagram.com/jcubic/","https://www.flickr.com/photos/jcubic","https://www.reddit.com/user/jcubic","https://github.com/jcubic","https://dribbble.com/jcubic","https://stackoverflow.com/users/387194/jcubic"],"knowsAbout":["Front-End","JavaScript","NodeJS","Python","R","PHP","TypeScript","Bash","SVG","CSS","Shiny","Jekyll","GIT","GNU Emacs","GNU/Linux","Inkscape","SQL","SEO","Graphic Design","Security","lisp","scheme","programming","software development","Web Development","Photography"],"knowsLanguage":["en-US","en-GB","pl-PL"],"worksFor":{"@type":"Organization","legalName":"ASTEK Polska sp. z o.o.","slogan":"Tworzymy zepół Expertów","url":"https://astek.pl/"}},

    "sdLicense": "https://github.com/jcubic/lips/blob/master/LICENSE",
    "license": "MIT"
}</script>
</head>
<body>
  <header class="main">
    <a href="/" title="LIPS Home Page">
      <img src="logo.svg" width="280" height="146" alt="LIPS Logo: Scheme (lisp dialect) in JavaScript"/>
      <h1>
        Powerful Scheme lisp in JavaScript
      </h1>
    </a>
    <nav>
      <ul>
        <li><a href="/#demo">Demo</a></li>
        <li><a href="/docs.html">Docs</a></li>
        <li><a href="https://github.com/jcubic/lips/wiki/Getting-Started">Get Started</a></li>
        <li><a href="https://github.com/jcubic/lips">source</a></li>
        <li><a href="/examples/index.html">Hyper App</a></li>
        <li><a href="/screenshot.html">Screenshoter</a></li>
        <li><a href="https://gitter.im/jcubic/lips">Chat</a></li>
      </ul>
    </nav>
  </header>
  <a href="https://github.com/jcubic/lips" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>


<div class="box">
    <header>
        <button class="download">Screenshot</button>
    </header>
    <div class="position">
        <div class="wrapper">
            <div class="cm-dialog">
                <header>
                    <ul class="cm-icons">
                        <li></li>
                        <li></li>
                        <li></li>
                    </ul>
                </header>
                <div class="cm-body"></div>
            </div>
        </div>
    </div>
</div>

<template id="tmpl">
<pre>
(define re #/&lt;h1&gt;([^>]+)&lt;\/h1&gt;/)
(define str "hello")

(define obj &amp;(:foo 10
              :bar 20))

(let iter ((i 10))
  (unless (zero? i)
    (display i)
    (newline)
    (iter (- i 1))))
</pre>
</template>
<script src="https://cdn.jsdelivr.net/npm/html-to-image@1.10.4/dist/html-to-image.js"></script>
<script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.3/lib/codemirror.js"></script>
<script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.3/mode/javascript/javascript.js"></script>
<script src="https://cdn.jsdelivr.net/npm/codemirror@5.58.3/addon/edit/matchbrackets.js"></script>
<script src="https://cdn.jsdelivr.net/gh/jcubic/lips@devel/lib/js/codemirror.js"></script>
<script>
const code = tmpl.content.querySelector('pre').innerText;
const box = document.querySelector('.box');
const dialog = document.querySelector('.cm-body');

CodeMirror.commands.autocomplete = function(cm) {
    cm.showHint({ hint: CodeMirror.hint.scheme });
};

var myCodeMirror = CodeMirror(dialog, {
    value: code,
    mode:  "lips",
    lineWrapping: true,
    lineNumbers: true,
    matchBrackets: true,
    theme: 'twilight',
    inputStyle: "contenteditable",
    extraKeys: { "Ctrl-Space": "autocomplete" }
});

function download(url) {
    var a = document.createElement('a');
    a.download = 'screenshot.png';
    a.href = url;
    a.style.display = 'none';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
}

var button = document.querySelector('button');
button.addEventListener('click', () => {
    const node = document.querySelector(".wrapper");
    htmlToImage.toPng(node)
        .then(download)
        .catch(function(error) {
            console.error('oops, something went wrong!', error);
        });
});
let height;
const body = document.body;
myCodeMirror.on('change', function() {
    var rect = dialog.getBoundingClientRect();
    if (height !== rect.height) {
        height = rect.height;
        body.style.setProperty('--height', rect.height + 300);
    }
});
</script>
  <footer>
    <p>Copyright (c) 2018-2021 <a href="https://jcubic.pl/me">Jakub T. Jankiewicz</a></p>
    <!-- Start Open Web Analytics Tracker -->
    <script type="text/javascript">
     //<![CDATA[
     var owa_baseUrl = 'http://stats.jcubic.pl/';
     var owa_cmds = owa_cmds || [];
     owa_cmds.push(['setSiteId', '922150e605063a8580e17047ffbf3ec2']);
     owa_cmds.push(['trackPageView']);
     owa_cmds.push(['trackClicks']);
     (function() {
         var _owa = document.createElement('script'); _owa.type = 'text/javascript'; _owa.async = true;
         owa_baseUrl = ('https:' == document.location.protocol ? window.owa_baseSecUrl || owa_baseUrl.replace(/http:/, 'https:') : owa_baseUrl );
         _owa.src = owa_baseUrl + 'modules/base/js/owa.tracker-combined-min.js';
         var _owa_s = document.getElementsByTagName('script')[0]; _owa_s.parentNode.insertBefore(_owa, _owa_s);
     }());
     //]]>
    </script>
  </footer>

</body>
</html>